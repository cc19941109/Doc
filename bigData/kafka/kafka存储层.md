# kafka 存储层

## 提交日志

指 新的消息总是以 追加 的方式进行存储

#### 分区 与 复制

1. 分区可以做到线性扩展和负载均衡
2. 复制可以做到故障容错

## 6.1 日志的读写

### 6.1.1 分区,副本,日志,日志分段

#### 日志分段 

每个日志分段文件在物理上是有一个数据文件和一个索引文件组成.

1. 数据文件: 存储消息内容
2. 索引文件: 存储数据文件的索引信息,为了用户快速随机访问数据文件

### 6.1.2 写入日志







